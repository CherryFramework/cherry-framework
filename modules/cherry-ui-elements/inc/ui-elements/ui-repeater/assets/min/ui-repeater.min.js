!function(e,r){"use strict";r.utilites.namespace("ui_elements.repeater"),r.ui_elements.repeater={init:function(e){var t=this;r.status.document_ready?t.render(e):r.variable.$document.on("ready",t.render(e))},render:function(t){e(".cherry-ui-repeater-container",t).each(function(){var t=e(this),i=e(".cherry-ui-repeater-list",t),a=i.data("name"),n=i.data("title-field"),c=wp.template(a);t.on("click",".cherry-ui-repeater-add",function(e){var t=i.data("index"),a=i.append(c({index:t})).find(".cherry-ui-repeater-item:last");e.preventDefault(),r.variable.$window.trigger("cherry-ui-elements-init",{target:a}),t++,i.data("index",t)}),i.on("click",".cherry-ui-repeater-remove",function(r){r.preventDefault(),e(this).closest(".cherry-ui-repeater-item").remove()}),i.on("click",".cherry-ui-repeater-toggle",function(r){var t=e(this).closest(".cherry-ui-repeater-item"),i="cherry-ui-repeater-min";r.preventDefault(),t.hasClass(i)?t.removeClass(i):t.addClass(i)}),i.on("change","."+n+"-wrap input, textarea, select",function(){var r=e(this),t=r.val(),i=r.closest(".cherry-ui-repeater-item"),a=e(".cherry-ui-repeater-title",i);a.html(t)}),i.sortable({items:".cherry-ui-repeater-item",handle:".cherry-ui-repeater-actions-box",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"sortable-placeholder"})})}},e(window).on("cherry-ui-elements-init",function(e,t){r.ui_elements.repeater.init(t.target)})}(jQuery,window.CherryJsCore);