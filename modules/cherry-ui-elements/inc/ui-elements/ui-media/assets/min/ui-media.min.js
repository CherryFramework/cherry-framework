<<<<<<< HEAD
!function(a){"use strict";CherryJsCore.utilites.namespace("ui_elements.media"),CherryJsCore.ui_elements.media={init:function(a){var b=this;CherryJsCore.status.document_ready?b.render(a):CherryJsCore.variable.$document.on("ready",b.render(a))},render:function(b){a(document).on("click",".upload-button",function(b){var j,d=a(this).parents(".cherry-ui-media-wrap"),e=a(".cherry-upload-input",d),f=a(".cherry-upload-preview",d),g=a(this).data("title"),h=a(this).data("multi-upload"),i=a(this).data("library-type");return j=wp.media.frames.file_frame=wp.media({title:g,button:{text:g},multiple:h,library:{type:i}}),j.on("select",function(){var b=j.state().get("selection").toJSON(),d=0,g="",i="",k="";for(h&&(g=e.val(),k=",",i=a(".cherry-all-images-wrap",f).html());b[d];){var l=b[d],m=l.id,n=l.mime,o="",p="";switch(n){case"image/jpeg":case"image/png":case"image/gif":void 0!=l.sizes&&(o=l.sizes.thumbnail?l.sizes.thumbnail.url:l.sizes.full.url),p='<img  src="'+o+'" alt="" data-img-attr="'+m+'">';break;case"image/x-icon":p='<span class="dashicons dashicons-format-image"></span>';break;case"video/mpeg":case"video/mp4":case"video/quicktime":case"video/webm":case"video/ogg":p='<span class="dashicons dashicons-format-video"></span>';break;case"audio/mpeg":case"audio/wav":case"audio/ogg":p='<span class="dashicons dashicons-format-audio"></span>'}i+='<div class="cherry-image-wrap"><div class="inner"><div class="preview-holder"  data-id-attr="'+m+'"><div class="centered">'+p+'</div></div><a class="cherry-remove-image" href="#"><i class="dashicons dashicons-no"></i></a><span class="title">'+l.title+"</span></div></div>",g+=k+m,d++}e.val(g.replace(/(^,)/,"")).trigger("change"),a(".cherry-all-images-wrap",f).html(i),a(".cherry-remove-image").on("click",function(){return c(a(this)),!1})}).open(),!1}),jQuery(".cherry-remove-image",b).on("click",function(){return c(jQuery(this)),!1});var c=function(a){var b=a.parents(".cherry-ui-media-wrap"),c=jQuery(".cherry-upload-input",b),d=a.parent().parent(".cherry-image-wrap"),e=jQuery(".preview-holder",d).data("id-attr"),f=c.attr("value"),g=new RegExp(""+e+"(,*)","i");f=f.replace(g,""),f=f.replace(/(,$)/,""),c.attr({value:f}).trigger("change"),d.remove()};jQuery(".cherry-all-images-wrap",b).sortable({items:"div.cherry-image-wrap",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"cherry-media-thumb-sortable-placeholder",start:function(a,b){},stop:function(a,b){},update:function(a,b){var c="";jQuery(".cherry-image-wrap",this).each(function(){var a=jQuery(".preview-holder",this).data("id-attr");c=c+a+","}),c=c.substr(0,c.lastIndexOf(",")),jQuery(this).parent().siblings(".cherry-element-wrap").find("input.cherry-upload-input").val(c).trigger("change")}})}},a(window).on("cherry-ui-elements-init",function(a,b){CherryJsCore.ui_elements.media.init(b.target)})}(jQuery);
=======
!function(e){"use strict";CherryJsCore.utilites.namespace("ui_elements.media"),CherryJsCore.ui_elements.media={init:function(e){var a=this;CherryJsCore.status.document_ready?a.render(e):CherryJsCore.variable.$document.on("ready",a.render(e))},render:function(a){var r;e(".upload-button",a).on("click",function(){var a=e(this).parents(".cherry-ui-media-wrap"),t=e(".cherry-upload-input",a),s=e(".cherry-upload-preview",a),n=e(this).data("title"),c=e(this).data("multi-upload"),o=e(this).data("library-type");return void 0!==r?void r.open():(r=wp.media.frames.file_frame=wp.media({title:n,button:{text:n},multiple:c,library:{type:o}}),r.on("select",function(){var a=r.state().get("selection").toJSON(),n=0,o="",l="",d="";for(c&&(o=t.val(),d=",",l=e(".cherry-all-images-wrap",s).html());a[n];){var u=a[n],p=u.id,h=u.mime,m="",v="";switch(h){case"image/jpeg":case"image/png":case"image/gif":void 0!=u.sizes&&(m=u.sizes.thumbnail?u.sizes.thumbnail.url:u.sizes.full.url),v='<img  src="'+m+'" alt="" data-img-attr="'+p+'">';break;case"image/x-icon":v='<span class="dashicons dashicons-format-image"></span>';break;case"video/mpeg":case"video/mp4":case"video/quicktime":case"video/webm":case"video/ogg":v='<span class="dashicons dashicons-format-video"></span>';break;case"audio/mpeg":case"audio/wav":case"audio/ogg":v='<span class="dashicons dashicons-format-audio"></span>'}l+='<div class="cherry-image-wrap"><div class="inner"><div class="preview-holder"  data-id-attr="'+p+'"><div class="centered">'+v+'</div></div><a class="cherry-remove-image" href="#"><i class="dashicons dashicons-no"></i></a><span class="title">'+u.title+"</span></div></div>",o+=d+p,n++}t.val(o.replace(/(^,)/,"")).trigger("change"),e(".cherry-all-images-wrap",s).html(l),e(".cherry-remove-image").on("click",function(){return i(e(this)),!1})}).open(),!1)}),jQuery(".cherry-remove-image",a).on("click",function(){return i(jQuery(this)),!1});var i=function(e){var a=e.parents(".cherry-ui-media-wrap"),r=jQuery(".cherry-upload-input",a),i=e.parent().parent(".cherry-image-wrap"),t=jQuery(".preview-holder",i).data("id-attr"),s=r.attr("value"),n=new RegExp(""+t+"(,*)","i");s=s.replace(n,""),s=s.replace(/(,$)/,""),r.attr({value:s}).trigger("change"),i.remove()};jQuery(".cherry-all-images-wrap",a).sortable({items:"div.cherry-image-wrap",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"cherry-media-thumb-sortable-placeholder",start:function(){},stop:function(){},update:function(){var e="";jQuery(".cherry-image-wrap",this).each(function(){var a=jQuery(".preview-holder",this).data("id-attr");e=e+a+","}),e=e.substr(0,e.lastIndexOf(",")),jQuery(this).parent().siblings(".cherry-element-wrap").find("input.cherry-upload-input").val(e).trigger("change")}})}},e(window).on("cherry-ui-elements-init",function(e,a){CherryJsCore.ui_elements.media.init(a.target)})}(jQuery);
>>>>>>> CherryFramework/master
